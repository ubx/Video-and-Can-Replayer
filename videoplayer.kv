BoxLayout:

    orientation: 'vertical'
    spacing: 5
    padding: 5

    VideoPlayer:
        id: video_player
        source: app.get_file()
        allow_stretch: True
        state: 'stop'
        on_state: app.replay(args[1],video_player.position)
        on_position: app.on_position(args[1])

    BoxLayout:
        size_hint_y: None
        height: '48dp'

        Button:
            text: 'Next'
            on_press: app.btn_next(video_player)

        Button:
            text: 'Previous'
            on_press: app.btn_previous(video_player)

        Button:
            text: 'Bookmark'

        Button:
            text: 'Syncpoint'
            on_press: app.btn_syncpoint(video_player)


    BoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: '48dp'

        Slider:
            id: s1

        Label:
            text: app.realtime(s1.value)


    BoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: '48dp'

        canvas:
            Rectangle:
                id: bookmarks
                pos: 10, 40
                size: root.width-20, 10

    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        size_hint_x: 0.3
        height: '24'

        Label:
            text: 'UTC'
        Label:
            text: '12:33'
        Label:
            text: 'Pos'
        Label:
            text: '7.0 / 47.0'


<NoTitleDialog>:
    size_hint: None, None
    size: 400, 180

    BoxLayout:
        orientation: 'vertical'
        Label:
            text: "Enter utc time"
        Label:
            id: label
        TextInput:
            multiline: False
            hint_text:'Enter time'
            on_text: root.ts=root.checkTime(args[1]); label.text= 'YYYY-MM-DD HH:MM:SS' if root.ts is None else args[1]; btn_bookmark.disabled=root.ts is None

        BoxLayout:
            orientation: 'horizontal'
            Button:
                id: btn_bookmark
                text: "OK"
                disabled: True
                on_release: root.set_syncpoint(); root.dismiss()
            Button:
                text: "Cancel"
                on_release: root.dismiss()
